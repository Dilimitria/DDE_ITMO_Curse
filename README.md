# DDE_ITMO_Curse
Аналитическая платформа для сегментации клиентов Online Retail 360
Цель проекта
Автоматизированная система обработки и анализа данных о транзакциях интернет-магазина для выявления лояльных групп клиентов (RFM), анализа удержания (Retention) и оптимизации маркетинговых стратегий.

Датасет
Данные о транзакциях британского ритейлера (Online Retail Dataset), включающие историю покупок, цены, количество и географию клиентов.

Руководство по работе с проектом
Структура проекта
online-retail-analytics/
├── etl/                # Скрипты обработки данных
│   ├── flows.py        # Основной пайплайн (Prefect)
│   ├── database.py     # Логика работы с БД
│   ├── rfm_processor.py# Алгоритмы сегментации
│   └── config.py       # Настройки путей
├── notebooks/          # Исследовательский анализ
│   └── EDA.ipynb       # Итоговый отчет с графиками
├── data/               # База данных и сырые файлы
├── requirements.txt    # Зависимости проекта
└── README.md           # Документация
1. Подготовка окружения
Создайте виртуальное окружение и установите зависимости:

Bash

python -m venv .venv
# Для Windows:
.\.venv\Scripts\activate
# Для Mac/Linux:
source .venv/bin/activate

pip install -r requirements.txt
2. Запуск ETL (Extract, Transform, Load)
Процесс автоматизирован с помощью Prefect и разделяет данные на три слоя (Medallion Architecture):

Raw: Чтение исходного CSV.

Silver (cleaned_transactions): Очистка данных, приведение типов, расчет итоговой цены.

Gold (Analytical Marts): Готовые витрины для RFM и ABC анализа.

Запуск пайплайна:

Bash

python main.py
После запуска будет создана база данных SQLite в папке data/.

3. Исследовательский анализ (EDA)
Основной отчет находится в notebooks/EDA.ipynb.

Основные разделы анализа:
Качество данных: Визуализация пропусков и удаление аномалий.

RFM-сегментация: Классификация клиентов на "Чемпионов", "Новичков" и "В зоне риска".

Когортный анализ: Построение матрицы удержания (Retention Rate) по месяцам.

Географический ABC-анализ: Оценка вклада разных стран в общую выручку.

Технические подробности реализации
Слой Silver: Очистка
В таблицу cleaned_transactions попадают данные со следующими преобразованиями:

Удаление записей без CustomerID.

Фильтрация возвратов (Quantity < 0) в отдельный поток.

Приведение InvoiceDate к формату datetime.

Слой Gold: Аналитические витрины
mart_customer_segments: Таблица с рассчитанными метриками:

Recency: Дней с последней покупки.

Frequency: Общее количество заказов.

Monetary: Сумма всех покупок.

mart_countries_abc: Анализ рынков по принципу Парето (80/20).

Результаты проекта
Построена визуальная карта удержания клиентов по когортам.

Определены границы аномальных заказов (оптовые закупки).

Сформулированы рекомендации по работе с сегментом "At Risk" для снижения оттока.
